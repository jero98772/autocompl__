<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-Time Autocomplete</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
    <h1>Real-Time Autocomplete</h1>
    <input type="text" id="search" placeholder="Type a word..." />
    <ul id="suggestions"></ul>

    <script>
class TrieNode {
    constructor() {
        this.children = {};
        this.isEndOfWord = false;
    }
}

class Trie {
    constructor() {
        this.root = new TrieNode();
    }

    // Insert a word into the Trie
    insert(word) {
        let node = this.root;
        for (const char of word) {
            if (!node.children[char]) {
                node.children[char] = new TrieNode();
            }
            node = node.children[char];
        }
        node.isEndOfWord = true;
    }

    // Search for a prefix in the Trie
    searchPrefix(prefix) {
        let node = this.root;
        for (const char of prefix) {
            if (!node.children[char]) {
                return null;
            }
            node = node.children[char];
        }
        return node;
    }

    // Get all words starting with a given prefix
    autocomplete(prefix) {
        const results = [];
        const node = this.searchPrefix(prefix);
        if (!node) return results;

        const dfs = (currentNode, currentWord) => {
            if (currentNode.isEndOfWord) {
                results.push(currentWord);
            }
            for (const [char, childNode] of Object.entries(currentNode.children)) {
                dfs(childNode, currentWord + char);
            }
        };

        dfs(node, prefix);
        return results;
    }
}

        const trie = new Trie();

        async function loadWordsFromFile(filePath) {
            const response = await fetch(filePath);
            const text = await response.text();
            const words = text.split(/\r?\n/); // Split words by newlines
            words.forEach(word => {
                if (word.trim()) trie.insert(word.trim().toLowerCase()); // Insert non-empty words
            });
            console.log("Words loaded into Trie");
        }

        // Load words from a sample file
        loadWordsFromFile("words.txt");

        const inputField = document.getElementById("search");
        const suggestionsList = document.getElementById("suggestions");

        // Fetch autocomplete suggestions in real-time
        inputField.addEventListener("input", () => {
            const query = inputField.value.toLowerCase().trim();
            suggestionsList.innerHTML = ""; // Clear previous suggestions

            if (query.length > 0) {
                const suggestions = trie.autocomplete(query);
                suggestions.forEach(word => {
                    const li = document.createElement("li");
                    li.textContent = word;
                    li.addEventListener("click", () => {
                        inputField.value = word; // Fill input field on click
                        suggestionsList.innerHTML = ""; // Clear suggestions
                    });
                    suggestionsList.appendChild(li);
                });
            }
        });
    </script>
</body>
</html>
